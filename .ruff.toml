target-version = "py313"

[lint]
select = [
  "ALL",
]
ignore = [
  "ANN401",  # Dynamically typed expressions (typing.Any) are disallowed
  "D203",    # no-blank-line-before-class (incompatible with formatter)
  "D212",    # multi-line-summary-first-line (incompatible with formatter)
  "COM812",  # missing-trailing-comma (incompatible with formatter)
  "ISC001",  # single-line-implicit-string-concatenation (incompatible with formatter)
  "TCH",     # flake8-type-checking (HA uses types at runtime, not behind TYPE_CHECKING)
]

[lint.per-file-ignores]
"tests/**/*.py" = [
  "S101",    # Use of assert
  "D",       # Docstring rules
  "ANN",     # Annotation rules
  "PLR2004", # Magic value used in comparison
  "ARG001",  # Unused function argument (pytest fixtures are injected)
]

[lint.flake8-pytest-style]
fixture-parentheses = false

[lint.pyupgrade]
keep-runtime-typing = true

[lint.mccabe]
max-complexity = 25

[lint.isort]
known-first-party = ["custom_components.zeus"]
